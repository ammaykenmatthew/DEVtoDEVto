<div class="post" *ngFor="let post of posts$">
   <!--Loader-->
   <div *ngIf="showLoader" class="loader text-center">
    <div class="bar1"></div>
    <div class="bar2"></div>
    <div class="bar3"></div>
    <div class="bar4"></div>
    <div class="bar5"></div>
    <div class="bar6"></div>
    <div class="bar7"></div>
    <div class="bar8"></div>
    <div class="bar9"></div>
    <div class="bar10"></div>
    <div class="bar11"></div>
    <div class="bar12"></div>
 </div>
 <!--Loader-->
  <div class="container h-100">

    <div class="back ">
      <button type="button" (click)="goBack()"><span class='material-icons'>arrow_back</span>Back</button>
    </div>

  <div class="row h-100 justify-content-center align-items-center">

    <div class="col-md-9">
      <div class="row post">
        <div class="col-md-1">
          <!-- vote button -->
        </div>
        <div class="col-md-10">
          <span>
            <span>
              <a >Posted by {{post.program_fld}} | {{post.fname_fld}} {{post.mname_fld}} {{post.lname_fld}} </a>
            </span>
            <span>at {{post.created_at|date:'MMM d, y h a'}}</span>
          </span>
          <hr />
          <h4 style="color: black;" class="post-title">{{post.title}}</h4>
          <hr />
          <div>
            <p class="post-text">{{post.description}}</p>
            <!-- <img [src]="image+post.photo" style="height: auto; width:auto;" class="responsive" > -->
            <!-- <img [src]="'http://127.0.0.1:8000/'+post.photo" style="height: auto; width:auto;" class="responsive" > -->

           <!-- <img [src]="'http://127.0.0.1:8000/'+post.photo" style="height: auto; width:auto;" class="responsive" > -->
           <div  *ngIf="image+post.photo" class="imageData" style="height: auto; width:auto;" >
            <img [src]="image+post.photo"  class="responsive" loading="lazy">
          </div>
          </div>

          <hr/>
          <p>Comment as {{fname_fld}} {{mname_fld}} {{lname_fld}} </p>

          <div class="post-comment">

            <form [formGroup]="commentForm" (ngSubmit)="postComment()"> <!--(ngSubmit)="postComment()">-->
              <div class="form-group">
                <textarea style="height: 180px;" class="form-control" [formControlName]="'content'" placeholder="Your Thoughts?"></textarea>
              </div>


              <div class="row button d-flex flex-row justify-content-end ">
              <button type="submit"
              style="position: relative;
              font-size: 15px;
              margin-top: 5px;
              margin-bottom: 5px;
              margin-right: 10px;
              color: white;
              background-color: #0a95ff;
              width: 130px;
              height: 35px;
              border: none;
              border-radius: 12px;"

              class="login float-right">Comment</button>
            </div>
          </form>
          <!-- Yung comment button dapat nakapaloob sa form para gumana -->
          </div>
        </div>

            <hr/>
            <h4 style="font-size: 20px; color: black;">Comments</h4>
            <!--Display Comments-->

            <div class="container2">
            <div class="comment" *ngFor="let comment of comments">
              <div *ngIf="comment === 0" style="font-size: 30px; font-family: 'IBM Plex Sans', sans-serif;"><h4>There are no comments found</h4></div>
              <div class="col-md-11"> <!--Comment Content-->
                <!-- <img [src]="'http://localhost:8000/'+comment.comments.profilepic_fld"  alt="" style="height: 35px; width: 35px; margin-right: 3px; margin-top: 5px; border-radius: 50%; border: 2px solid #878A8C;">
              <span>

                <span>
                  <a>{{comment.comments.program_fld}} | {{comment.comments.fname_fld}} {{comment.comments.mname_fld}} {{comment.comments.lname_fld}}  </a> <a matTooltip="Credit Score"  matTooltipClass="toolTiptip">{{comment.credit}}</a>
                </span>

                <span> at {{comment.comments.created_at|date:'MMM d, y - h a'}}  </span>
              </span>

              <div>
                <p style="background-color: #f7f9fa; font-family: 'Rubik', sans-serif;">{{comment.comments.content}}</p>
              </div>
              <hr> -->
              <div class="comment-session">
                <div class="post-comment">
                  <div class="list">
                    <div class="user">
                      <div class="user-image"><img [src]="'http://localhost:8000/'+comment.comments.profilepic_fld"  alt=""></div>
                      <div class="user-meta">
                        <div class="name">{{comment.comments.program_fld}} | {{comment.comments.fname_fld}} {{comment.comments.mname_fld}} {{comment.comments.lname_fld}} </div>
                        <div class="day">{{comment.comments.created_at|date:'MMM d, y - h a'}} </div>
                      </div>
                    </div>
                    <div class="comment-post">{{comment.comments.content}}</div>
                  </div>
                </div>
              </div>


               <!--End Comment Content-->
              <span  style="display: flex;
              align-items: center; color: #fda239; cursor: pointer; margin-left: 40px;">
                <mat-icon> comment</mat-icon>
                <a (click)="onClick(comment)">View Replies  ({{comment.reply.length}})</a>
              </span>
            <ng-container *ngIf="comment?.visible"> <!--Reply Content-->
              <div class="commentReply" *ngFor="let rep of comment.reply">
                <img [src]="'http://localhost:8000/'+rep.profilepic_fld" alt="" style="height: 35px; width: 35px; margin-right: 3px; margin-top: 5px; border-radius: 50%; border: 2px solid #878A8C;">
                <span>
                  <a > {{rep.program_fld}} | {{rep.fname_fld}} {{rep.mname_fld}} {{rep.lname_fld}} </a>
                </span>
                <span> at {{rep.created_at|date:'MMM d, y h a'}}</span>
                <div>
                  <p style="background-color: #f5f5f5;">{{rep.replyContent}}</p>
                </div>
              </div>

              <hr>

              <!--Form for Reply Content-->
              <form [formGroup]="replyForm" (ngSubmit)="replyComment(comment)">
              <div class="reply">
                <img [src]="'http://localhost:8000/'+profilepic_fld" alt="" style=" display:flex; height: 30px; width: 30px; margin-right: 3px; border-radius: 50%; border: 2px solid #878A8C;">
                <input type="text" name="" class="form-control" [formControlName]="'replyContent'" placeholder="Write a reply..">
                <button type="submit" >Submit</button>
              </div>
            </form> <!--End of Form for Reply Content-->
          </ng-container>
          </div>
        </div>
          <!-- Outside of Comment Div -->


          <div class="comment-thread">
            <!-- Comment 1 start -->
            <details open class="comment" id="comment-1">
                <a href="#comment-1" class="comment-border-link">
                    <span class="sr-only">Jump to comment-1</span>
                </a>
                <summary>
                    <div class="comment-heading">
                        <div class="comment-voting">
                            <button type="button">
                                <span aria-hidden="true">&#9650;</span>
                                <span class="sr-only">Vote up</span>
                            </button>
                            <button type="button">
                                <span aria-hidden="true">&#9660;</span>
                                <span class="sr-only">Vote down</span>
                            </button>
                        </div>
                        <div class="comment-info">
                            <a href="#" class="comment-author">someguy14</a>
                            <p class="m-0">
                                22 points &bull; 4 days ago
                            </p>
                        </div>
                    </div>
                </summary>

                <div class="comment-body">
                    <p>
                        This is really great! I fully agree with what you wrote, and this is sure to help me out in the future. Thank you for posting this.
                    </p>
                    <button type="button" data-toggle="reply-form" data-target="comment-1-reply-form">Reply</button>
                    <button type="button">Flag</button>

                    <!-- Reply form start -->
                    <form method="POST" class="reply-form d-none" id="comment-1-reply-form">
                        <textarea placeholder="Reply to comment" rows="4"></textarea>
                        <button type="submit">Submit</button>
                        <button type="button" data-toggle="reply-form" data-target="comment-1-reply-form">Cancel</button>
                    </form>
                    <!-- Reply form end -->
                </div>

                <div class="replies">
                    <!-- Comment 2 start -->
                    <details open class="comment" id="comment-2">
                        <a href="#comment-2" class="comment-border-link">
                            <span class="sr-only">Jump to comment-2</span>
                        </a>
                        <summary>
                            <div class="comment-heading">
                                <div class="comment-voting">
                                    <button type="button">
                                        <span aria-hidden="true">&#9650;</span>
                                        <span class="sr-only">Vote up</span>
                                    </button>
                                    <button type="button">
                                        <span aria-hidden="true">&#9660;</span>
                                        <span class="sr-only">Vote down</span>
                                    </button>
                                </div>
                                <div class="comment-info">
                                    <a href="#" class="comment-author">randomperson81</a>
                                    <p class="m-0">
                                        4 points &bull; 3 days ago
                                    </p>
                                  </div>
                                </div>
                            </summary>

                            <div class="comment-body">
                                <p>
                                    Took the words right out of my mouth!
                                </p>
                                <button type="button" data-toggle="reply-form" data-target="comment-2-reply-form">Reply</button>
                                <button type="button">Flag</button>

                                <!-- Reply form start -->
                                <form method="POST" class="reply-form d-none" id="comment-2-reply-form">
                                    <textarea placeholder="Reply to comment" rows="4"></textarea>
                                    <button type="submit">Submit</button>
                                    <button type="button" data-toggle="reply-form" data-target="comment-2-reply-form">Cancel</button>
                                </form>
                                <!-- Reply form end -->
                            </div>
                        </details>
                        <!-- Comment 2 end -->

                        <a href="#load-more">Load more replies</a>
                    </div>
                </details>
                <!-- Comment 1 end -->
            </div>



          </div>
        </div>
      </div>
    </div>
  </div>
</div>


